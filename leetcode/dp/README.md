# 다이나믹 프로그래밍

- 메모리를 적절히 사용하여 수행 시간 효율성을 비약적으로 향상시키는 방법
- 이미 계산된 결과는 별도의 메모리에 저장하여 다시 계산하지 않도록 함.
- 일반적으로 탑다운과 바텀업 방식으로 구성.

다이나믹 프로그래밍은 `동적 계획법`이라고도 부름. 자료구조에서 `동적`이란 의미는 동적 할당에서와 같이 프로그램이 실행되는 도중에 필요한 메모리를 할당하는 기법으로 사용되지만 다이나믹 프로그래밍에서의 `동적`은 별다른 의미가 없이 사용되었음.

***다음의 조건을 만족할 때 사용할 수 있다.***
1. 최적 부분 구조 (Optimal Substructure)
    - 작은 문제로 나눌 수 있으며 작은 문제의 답을 모아서 큰 문제를 해결할 수 있음
2. 중복되는 부분 문제 (Overlapping Subproblem)
    - 동일한 작은 문제를 반복적으로 해결해야 함.

동적계획법이 사용된 예시

- ex) 피보나치 수열
- `점화식`을 이용하여 **인접한 항들 사이의 관계식**을 의미한다.
- 피보나치 수열을 점화식으로 표현하면 다음과 같다.
- ![피보나치 수열 점화식](https://latex.codecogs.com/gif.latex?%5Cinline%20a_n%20%3D%20a_%7Bn-1%7D%20&plus;%20a_%7Bn%20-%202%7D%2C%20a_1%20%3D%201%2C%20a_2%20%3D%201)

```py
## 일반 재귀 형태의 피보나치 수열

def fibonacci(x):
    if x == 1 or x == 2:
        return 1
    return fibonacci(x - 1) + fibonacci(x - 2)
print(fibonacci(4)) # 3
```

단순 재귀로 피보나치 수열을 해결하면 ![지수시간복잡도](https://latex.codecogs.com/gif.latex?%5Cinline%20O%28N%5E2%29) 의 시간복잡도를 가지게 된다. 이 때 중복되는 부분문제들을 메모이제이션함으로써 시간복잡도를 기하급수적으로 줄일 수 있다.

## 메모이제이션(Memoization)

메모이제이션은 다이나믹 프로그래밍을 구현하는 방법 중 하나이다. 한 번 계산한 결과를 메모리공간에 메모하는 기법임.
- 같은 문제를 다시 호출하면 메모했던 결과를 그대로 가져온다.
- 값을 기록해 놓는다는 점에서 캐싱(Caching)이라고도 한다.

## Top-down & Bottom-up

탑다운(메모이제이션) 방식은 하향식이라고도 하며 바텀업 방식은(상향식)이라고 한다.

전형적인 형태는 바텀업 방식이고, 탑다운은 재귀, 바텀업은 반복문으로 보통 구성한다.

메모이제이션은 **이전에 계산된 결과를 일시적으로 기록해 놓는 넓은 개념**을 의미하기 때문에 다이나믹 프로그래밍에만 국한된 개념은 아니다. 한 번 계산된 결과를 담아놓기만 하고 DP를 위해 활용하지 않을 수도 있다.

```py
## Top-down DP를 사용한 피보나치 수열

d = [0] * 100

def fibonacci(x):
    if x == 1 or x == 2:
        return 1
    if d[x] != 0:
        return d[x]
    d[x] = fibonacci(x - 1) + fibonacci(x - 2)
    return d[x]
```

```py
## Bottom-up DP를 사용한 피보나치 수열

d = [0] * 100

d[1] = 1
d[2] = 1
n = 99

for i in range(3, n + 1):
    d[i] = d[i - 1] + d[i - 2]
```
